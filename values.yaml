runners:
  executor: "kubernetes"
  image: "partofaplan/custom-gitlab-runner:1.0.2"
  config: |
    [[runners]]
      name = "custom-k8s-runner"
      url = "https://gitlab.com/"
      token = "glrt-Qbf1lqaZ1UYSkIIEbvZ3K286MQpwOjEzbm5yMQp0OjMKdTpmZno4eRg.01.1j0bw4442"
      executor = "kubernetes"

      [runners.kubernetes]
        image = "partofaplan/custom-gitlab-runner:1.0.2"
        helper_image = "gitlab/gitlab-runner-helper:arm64-latest"
        namespace = "gitlab"

        [[runners.kubernetes.volumes.secret]]
          name = "kubeconfig-secret"
          mount_path = "/secrets/.kube"
          read_only = true

          [[runners.kubernetes.volumes.secret.item]]
            key = "config"
            path = "config"

        [[runners.kubernetes.volumes.empty_dir]]
          name = "cache"
          mount_path = "/cache"
